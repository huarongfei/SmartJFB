# SmartJFB 专业体育比分系统 - 完整上手指南

## 📖 目录

1. [快速开始](#快速开始)
2. [系统功能](#系统功能)
3. [使用教程](#使用教程)
4. [页面说明](#页面说明)
5. [数据导出](#数据导出)
6. [高级功能](#高级功能)
7. [常见问题](#常见问题)
8. [技术支持](#技术支持)

---

## ⚡ 快速开始

### 系统要求

- **Node.js**: >= 14.0
- **操作系统**: Windows / Linux / macOS
- **浏览器**: Chrome / Firefox / Edge / Safari（现代浏览器）

### 安装与启动

#### Windows 用户

```bash
# 安装依赖（首次运行）
双击运行: 启动.bat

# 或手动安装
npm install

# 启动系统
双击运行: 启动.bat

# 快速访问页面
双击运行: 快速访问.bat
```

#### Linux/Mac 用户

```bash
# 安装依赖
npm install

# 启动系统
chmod +x start.sh
./start.sh

# 停止系统
Ctrl+C
```

### 快速访问

启动后访问以下地址：

| 页面 | URL | 用途 |
|------|-----|------|
| **主页** | http://localhost:3001 | 功能导航入口 |
| **记分牌** | http://localhost:3001/scoreboard.html | 大屏幕显示 |
| **管理面板** | http://localhost:3001/admin.html | 技术台操作 |
| **统计面板** | http://localhost:3001/statistics.html | 实时数据统计 |
| **监控器** | http://localhost:3001/monitor.html | 技术台监控 |
| **大屏控制** | http://localhost:3001/stadium-screen.html | 现场大屏 |
| **辅助屏** | http://localhost:3001/auxiliary-screen.html | 辅助信息屏 |
| **数据导出** | http://localhost:3001/export.html | Excel/CSV/PDF导出 |

---

## ✨ 系统功能

### 核心功能

#### ⏱️ 计时系统

- **篮球模式**: 10/12分钟单节，FIBA规则
- **足球模式**: 45分钟半场，支持伤停补时
- **毫秒级精度计时**: 满足专业比赛需求
- **倒计时/正计时**: 灵活切换
- **进攻时钟**: 24/14秒（篮球）
- **暂停/恢复**: 完整的计时控制

#### 🏀 篮球功能

- 2分/3分投篮记录
- 罚球记录
- 个人/球队犯规统计
- 暂停次数管理
- 换人管理

#### ⚽ 足球功能

- 进球记录
- 黄牌/红牌管理
- 换人管理
- 上/下半场控制
- 加时赛支持

#### 📊 统计分析

- 实时技术统计
- 球员排行榜
- 球队对比分析
- Play-by-Play事件记录

#### 📤 数据导出

- **Excel (.xlsx)**: 专业表格格式
- **CSV (.csv)**: 纯文本格式，通用性强
- **PDF (.pdf)**: 文档格式，适合打印

#### 🖥️ 多屏支持

- 主记分牌（大屏）
- 辅助信息屏
- 现场大屏控制
- 技术台监控器

---

## 🎯 使用教程

### 第一步：添加队伍信息

1. 打开 **管理面板** (http://localhost:3001/admin.html)
2. 设置主队和客队的队名、队徽
3. 点击"上传队徽"添加球队logo

### 第二步：批量导入球员

1. 在管理面板找到"批量导入球员"区域
2. 选择队伍（主队/客队）
3. 在文本框中输入球员信息，格式如下：

```
23 张三
11 李四
7 王五
```

支持的分隔符：逗号、空格、Tab
4. 点击"导入球员"按钮

### 第三步：选择得分球员

1. 在球员网格中点击选择球员
2. 被选中的球员会高亮显示（蓝色边框）
3. 点击快速得分按钮（1/2/3分）

### 第四步：开始比赛

1. 点击"开始比赛"启动计时器
2. 实时记录比赛事件
3. 点击"暂停"可以暂停计时
4. 节次会自动切换

### 第五步：记录比赛事件

#### 篮球事件

- **投篮命中**: 选择球员 → 点击对应分值
- **罚球**: 选择球员 → 点击罚球按钮
- **犯规**: 选择球员 → 点击犯规按钮
- **暂停**: 点击暂停按钮

#### 足球事件

- **进球**: 选择球员 → 点击进球按钮
- **黄牌**: 选择球员 → 点击黄牌按钮
- **红牌**: 选择球员 → 点击红牌按钮

### 第六步：查看实时统计

1. 打开 **统计面板** (http://localhost:3001/statistics.html)
2. 查看实时更新的技术统计
3. 查看球员排行榜

### 第七步：导出比赛数据

1. 打开 **数据导出页面** (http://localhost:3001/export.html)
2. 选择导出内容：
   - 比赛摘要
   - 球队技术统计
   - 球员个人数据
   - Play-by-Play事件序列
   - 所有数据
3. 选择导出格式（Excel/CSV/PDF）
4. 点击"导出"按钮
5. 文件会自动下载到浏览器默认下载目录

---

## 📄 页面说明

### 1. 主页 (index.html)

功能导航入口，包含所有页面的快速访问链接。

### 2. 主记分牌 (scoreboard.html)

**用途**: 面向观众的大屏幕显示

**显示内容**:
- 主客队队名和队徽
- 实时比分
- 比赛时间
- 当前节次
- 团队犯规数

**推荐使用**: 现场大屏幕

### 3. 管理面板 (admin.html)

**用途**: 技术台操作界面

**功能**:
- 添加/删除球员
- 批量导入球员
- 上传队徽
- 记录比赛事件
- 控制计时器
- 快速得分操作

**推荐使用**: 技术台电脑

### 4. 统计面板 (statistics.html)

**用途**: 实时数据统计分析

**功能**:
- 两队对比统计
- 球员个人数据
- 实时排行榜
- 技术统计图表

**推荐使用**: 教练分析台、辅助显示器

### 5. 监控器 (monitor.html)

**用途**: 技术台内部监控

**功能**:
- 详细数据视图
- 事件记录日志
- 系统状态监控

**推荐使用**: 技术台内部

### 6. 现场大屏 (stadium-screen.html)

**用途**: 场馆中央大屏控制

**功能**:
- 现场画面展示
- 特写镜头切入
- 动画效果
- 视频播放

**推荐使用**: 场馆中央大屏幕

### 7. 辅助屏 (auxiliary-screen.html)

**用途**: 辅助信息展示

**功能**:
- 球员数据展示
- 广告播放
- 慢镜头回放提示

**推荐使用**: 侧边屏幕

### 8. 数据导出 (export.html)

**用途**: 导出比赛数据

**功能**:
- 选择导出内容
- 选择导出格式
- 批量导出
- 导出历史记录

---

## 📥 数据导出

### 导出内容选项

#### 1. 比赛摘要
- 比赛基本信息（类型、日期、状态）
- 当前比分
- 主客队信息
- 最佳球员

#### 2. 球队技术统计
- 篮球：得分、命中率、助攻、篮板、抢断、盖帽、失误、犯规
- 足球：射门次数、控球率、角球、任意球、黄红牌等

#### 3. 球员个人数据
- 球员号码、姓名、出场时间
- 篮球：得分、投篮%、三分%、罚球%、助攻、篮板、抢断、盖帽、失误、犯规
- 足球：射门、射正、助攻、黄牌、红牌

#### 4. Play-by-Play事件序列
- 完整的比赛事件记录
- 时间戳、节次、队伍、事件类型、球员、详细描述
- 每一秒发生的所有事件

#### 5. 所有数据
- 包含以上所有内容
- 完整的比赛数据包

### 导出格式对比

| 格式 | 优点 | 缺点 | 适用场景 |
|------|------|------|----------|
| **Excel** | 格式美观、支持公式、多工作表 | 需要Excel软件 | 数据分析、报告制作 |
| **CSV** | 通用性强、文件小、兼容性好 | 无格式、无公式 | 数据导入其他系统 |
| **PDF** | 格式固定、适合打印、不可修改 | 文件较大、不易编辑 | 归档、打印报告 |

---

## 🎨 高级功能

### 队徽管理

1. 在管理面板找到队伍设置区域
2. 点击"上传队徽"按钮
3. 选择图片文件（支持PNG、JPG格式）
4. 点击"删除队徽"可以移除队徽

### 批量导入球员

**格式示例**:
```
23 张三 前锋
11 李四 后卫
7 王五 中锋
15 赵六 前锋
```

支持的分隔符：
- 逗号 (,)
- 空格
- Tab

每行一个球员，必须包含号码和姓名。

### 快捷得分操作

1. 点击球员网格中的球员（选中后高亮）
2. 点击快速得分按钮（1分、2分、3分）
3. 系统自动记录得分并更新比分

### 多屏同步

所有页面通过WebSocket实时同步：
- 在管理面板的操作会实时推送到所有显示页面
- 记分牌、统计面板等自动更新
- 延迟极低（<100ms）

### 主题切换

部分页面支持主题切换：
- 白色主题：适合白天、室内
- 深色主题：适合夜间、护眼

---

## ❓ 常见问题

### Q1: 端口被占用怎么办？

**A**: 启动脚本会自动检测并尝试关闭占用端口的进程。如果仍然失败，可以：

1. 手动关闭其他占用3001端口的服务
2. 修改 `server/index.js` 中的端口号
3. 重启电脑后再试

### Q2: 数据会自动保存吗？

**A**: 是的，所有操作实时保存到JSON文件中。即使服务器关闭重启，数据也不会丢失。

### Q3: 如何导出比赛数据？

**A**: 访问 http://localhost:3001/export.html，选择导出内容和格式，点击导出即可。

### Q4: 支持哪些运动？

**A**: 目前支持篮球和足球，架构设计支持扩展更多运动类型。

### Q5: 可以自定义记分牌布局吗？

**A**: 可以使用布局编辑器（http://localhost:3001/layout-editor.html）创建自定义布局。

### Q6: 管理面板无法连接？

**A**: 确保以下条件：
1. 服务器已启动（访问 http://localhost:3001 测试）
2. 浏览器支持WebSocket
3. 没有防火墙阻止
4. 尝试刷新页面或清除缓存

### Q7: 球员数据不显示？

**A**: 检查以下事项：
1. 已添加球员
2. 球员信息格式正确
3. 刷新页面
4. 检查浏览器控制台是否有错误

### Q8: 如何重置比赛？

**A**: 在管理面板点击"重置比赛"按钮，确认后将清空所有比赛数据。建议在比赛结束后导出数据再重置。

### Q9: 支持多语言吗？

**A**: 目前主要支持中文，部分页面支持英文切换。

### Q10: 系统对网络有什么要求？

**A**: 系统可以离线使用。多屏同步时，建议在同一局域网内，延迟更低。

---

## 🛠️ 技术支持

### 日志查看

服务器日志会显示在启动终端中，包括：
- 错误信息
- 连接状态
- API请求记录

### 调试模式

1. 打开浏览器开发者工具（F12）
2. 查看Console标签页的错误信息
3. 查看Network标签页的请求状态

### 获取帮助

遇到问题时，请准备以下信息：
1. 操作系统版本
2. 浏览器版本
3. 错误截图或错误信息
4. 复现步骤

---

## 📝 快捷命令

```bash
# 安装依赖
npm install

# 启动服务器
npm start
# 或
node server/index.js

# 开发模式（自动重启）
npm run dev

# 清理导出文件
npm run clean-exports

# 清理所有临时文件
npm run clean
```

---

## 📊 推荐工作流程

### 篮球比赛流程

1. **赛前准备**:
   - 设置比赛模式为篮球
   - 添加两队球员信息
   - 上传两队队徽
   - 配置记分牌布局

2. **比赛进行中**:
   - 启动计时器
   - 选择球员记录得分
   - 记录犯规、暂停等事件
   - 查看实时统计数据

3. **比赛结束后**:
   - 导出完整比赛数据
   - 备份导出文件
   - 重置比赛数据（如需要）

### 多屏幕设置

| 页面 | 推荐设备 | 用途 |
|------|----------|------|
| 主记分牌 | 现场大屏幕 | 观众显示 |
| 管理面板 | 技术台电脑 | 操作录入 |
| 统计面板 | 辅助显示器 | 教练分析 |
| 监控器 | 技术台内部 | 数据监控 |
| 大屏控制 | 场馆中央大屏 | 现场画面 |
| 辅助屏 | 侧边屏幕 | 球员数据 |

---

## 💡 使用技巧

1. **先添加球员**: 比赛开始前添加所有球员，避免比赛中途添加

2. **及时记录**: 每个动作及时记录，避免遗漏

3. **定期导出**: 重要比赛及时导出数据作为备份

4. **批量导入**: 球员较多时使用批量导入功能，节省时间

5. **多屏同步**: 充分利用多屏功能，不同页面展示不同信息

6. **队徽准备**: 提前准备高质量队徽图片，效果更佳

7. **网络稳定**: 多屏使用时确保网络稳定

8. **浏览器选择**: 推荐使用Chrome或Edge最新版本，兼容性最好

---

## 🎊 总结

SmartJFB 是一个功能完整、操作简单的专业体育比分系统，支持：

✅ **篮球和足球**双模式
✅ **实时多屏同步**，延迟极低
✅ **精确计时**，毫秒级精度
✅ **球员管理**，批量导入
✅ **队徽上传**，个性化展示
✅ **数据导出**，三种格式
✅ **统计分析**，实时更新
✅ **开箱即用**，无需配置

**开始使用**:
```bash
双击运行: 启动.bat
访问: http://localhost:3001
```

---

## 📄 许可证

MIT License

---

## 👨‍💻 开发团队

SmartJFB Team

---

**🎉 祝您使用愉快！开始您的专业体育比赛管理吧！**
